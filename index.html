<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boolzap</title>

    <link rel="shortcut icon" href="img/whatsapp.svg" type="image/x-icon">

    <!-- style -->
    <link rel="stylesheet" href="css/style.css">

</head>
<body>

    <!-- font-awesome -->
    <script src="https://kit.fontawesome.com/1a036a6099.js" crossorigin="anonymous"></script>
    
    <!-- Vue-js -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

    <div id="app">
        <div class="container">
            
            <!-- background -->

            <div class="nav"></div>
            <div class="back"></div>

            <!-- container chat -->

            <div class="chat-box">
                <div class="contact">
                    <div class="profile">
                        <div class="my-contact">
                            <div class="box-img">
                                <img src="img/avatar_8.jpg" alt="#">
                            </div>
                            <div class="name">
                                <strong class="my-name">Mattia</strong>
                            </div>
                        </div>
                        <div class="icon">
                            <i class="fa-solid fa-circle-notch"></i>
                            <i class="fa-solid fa-message"></i>
                            <i class="fa-solid fa-ellipsis-vertical"></i>
                        </div>


                    </div>
                    <div class="notifications">
                        <div>
                            <i class="fa-solid fa-bell-slash"></i>
                        </div>
                        <div class="text">
                            <strong>Ricevi notifiche di nuovi messaggi</strong>
                            <a href="">Attiva notifiche desktop</a>
                        </div>
                    </div>
                    <div class="research">
                        <div class="input-box">
                            <button class="input-button" type="button" id="button-addon1"><i class="fa-solid fa-magnifying-glass"></i></button>
                            <input v-model="searchContact" type="text" class="input-bar" placeholder="Cerca o inizia una nuova chat" aria-label="Example text with button addon" aria-describedby="button-addon1" @keyup.enter="research()">
                        </div>
                    </div>
                    <div class="list-contact">
                        <ul>
                            <li v-for="(contact, index) in research" class="list-item" :class="contact == activeContact ? 'active' : ''" @click="changeActiveContact(index)">
                                <div class="contact-friend">
                                    <div class="box-img">
                                        <img :src="contact.avatar" alt="#">
                                    </div>
                                    <div class="name">
                                        <strong>{{contact.name}}</strong>
                                        <span>Ultimo messaggio inviato</span>
                                    </div>
                                </div>
                                <div class="access">
                                    <span>12:00</span>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="chat">

                    <div class="profile list-item">
                        <div class="contact-friend">
                            <div class="box-img">
                                <img :src="activeContact.avatar" alt="#">
                            </div>
                            <div class="name">
                                <strong>{{activeContact.name}}</strong>
                                <span>Ultimo accesso oggi alle 12:00</span>
                            </div>
                        </div>
                        <div class="icon">
                            <i class="fa-solid fa-magnifying-glass"></i>
                            <i class="fa-solid fa-paperclip"></i>
                            <i class="fa-solid fa-ellipsis-vertical"></i>
                        </div>
                    </div>
                    <div class="chat-message">
                        <div v-for="currentMessage in activeContact.messages" 
                        :class="currentMessage.status == 'sent' ? 'MYmessage' : 'YOUmessage' ">
                            <div class="chat-text" :class="currentMessage.status == 'sent' ? 'my-message' : 'you-message' ">
                                <div>
                                    <p>{{currentMessage.message}}</p>
                                </div>
                                <div class="date">
                                    <p>{{currentMessage.date}}</p>
                                </div>
                            </div> 
                        </div>
                    </div>
                    <div class="input-text">
                        <div class="text-input">
                            <i class="fa-regular fa-face-smile"></i>
                            <div class="input-box">
                                <input v-model="newMessage" type="text" class="input-bar" placeholder="Inserisci un messaggio" aria-label="Example text with button addon" aria-describedby="button-addon1" @keyup.enter="addMessage(newMessage)">
                            </div>
                            <i class="fa-solid fa-microphone"></i>
                        </div>
                    </div>

                </div>
            </div>

        </div>
        
    
    </div>
    
    <!-- script -->
    <script type="text/javascript" src="js/script.js"></script>

</body>
</html>