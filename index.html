<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boolzap</title>

    <link rel="shortcut icon" href="img/whatsapp.svg" type="image/x-icon">

    <!-- bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <!-- style -->
    <link rel="stylesheet" href="css/style.css">

</head>
<body>

    <!-- bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <!-- font-awesome -->
    <script src="https://kit.fontawesome.com/1a036a6099.js" crossorigin="anonymous"></script>
    
    <!-- Vue-js -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

    <div id="app">
        <div class="container-fluid p-0">
            
<!--  _           _                                   _ 
| |              | |                                 | |
| |__   __ _  ___| | ____ _ _ __ ___  _   _ _ __   __| |
| '_ \ / _` |/ __| |/ / _` | '__/ _ \| | | | '_ \ / _` |
| |_) | (_| | (__|   < (_| | | | (_) | |_| | | | | (_| |
|_.__/ \__,_|\___|_|\_\__, |_|  \___/ \__,_|_| |_|\__,_|
                       __/ |                            
                      |___/                              -->

            <div class="nav"></div>
            <div class="back"></div>

<!--             _        _                        _           _   
                | |      (_)                      | |         | |  
  ___ ___  _ __ | |_ __ _ _ _ __   ___ _ __    ___| |__   __ _| |_ 
 / __/ _ \| '_ \| __/ _` | | '_ \ / _ \ '__|  / __| '_ \ / _` | __|
| (_| (_) | | | | || (_| | | | | |  __/ |    | (__| | | | (_| | |_ 
 \___\___/|_| |_|\__\__,_|_|_| |_|\___|_|     \___|_| |_|\__,_|\__|
                                                                   
                                                                    -->

            <div class="chat-box">
                <div class="contact">

<!--               __ _ _      
                 / _(_) |     
 _ __  _ __ ___ | |_ _| | ___ 
| '_ \| '__/ _ \|  _| | |/ _ \
| |_) | | | (_) | | | | |  __/
| .__/|_|  \___/|_| |_|_|\___|
| |                           
|_|                            -->

                    <div class="profile">
                        <div class="my-contact">
                            <div class="box-img">
                                <img src="img/avatar_8.jpg" alt="#">
                            </div>
                            <div class="name">
                                <strong class="my-name">Mattia M.</strong>
                            </div>
                        </div>
                        <div class="icon">
                            <i class="fa-solid fa-circle-notch"></i>
                            <i class="fa-solid fa-message dropdown" data-bs-toggle="dropdown" aria-expanded="false"></i>
                            <ul class="dropdown-menu">
                                <li class="d-flex flex-column w-auto p-2   ">
                                    <label for="newContact" class="form-label">Crea un nuovo contatto</label>
                                    <input v-model="newContact" type="text" class="input-bar px-2 py-1 w-auto " id="newContact" aria-describedby="texthepl"  placeholder="Nome del contatto" @keyup.enter="createContact()">
                                </li>
                            </ul>
                            <i class="fa-solid fa-ellipsis-vertical"></i>
                        </div>
                    </div>

<!--            _                         __ _ _      
               | |                       / _(_) |     
  ___ _ __   __| |______ _ __  _ __ ___ | |_ _| | ___ 
 / _ \ '_ \ / _` |______| '_ \| '__/ _ \|  _| | |/ _ \
|  __/ | | | (_| |      | |_) | | | (_) | | | | |  __/
 \___|_| |_|\__,_|      | .__/|_|  \___/|_| |_|_|\___|
                        | |                           
                        |_|                            -->

<!--         _   _  __ _           _   _             
            | | (_)/ _(_)         | | (_)            
 _ __   ___ | |_ _| |_ _  ___ __ _| |_ _  ___  _ __  
| '_ \ / _ \| __| |  _| |/ __/ _` | __| |/ _ \| '_ \ 
| | | | (_) | |_| | | | | (_| (_| | |_| | (_) | | | |
|_| |_|\___/ \__|_|_| |_|\___\__,_|\__|_|\___/|_| |_|
                                                     
                                                      -->

                    <div class="notifications">
                        <div>
                            <i class="fa-solid fa-bell-slash"></i>
                        </div>
                        <div class="text">
                            <strong>Ricevi notifiche di nuovi messaggi</strong>
                            <a href="">Attiva notifiche desktop</a>
                        </div>
                    </div>
<!--             _                    _   _  __ _           _   _             
               | |                  | | (_)/ _(_)         | | (_)            
  ___ _ __   __| |______ _ __   ___ | |_ _| |_ _  ___ __ _| |_ _  ___  _ __  
 / _ \ '_ \ / _` |______| '_ \ / _ \| __| |  _| |/ __/ _` | __| |/ _ \| '_ \ 
|  __/ | | | (_| |      | | | | (_) | |_| | | | | (_| (_| | |_| | (_) | | | |
 \___|_| |_|\__,_|      |_| |_|\___/ \__|_|_| |_|\___\__,_|\__|_|\___/|_| |_|
                                                                             
                                                                              -->

<!--                               _                          _             _   
                                  | |                        | |           | |  
 _ __ ___  ___  ___  __ _ _ __ ___| |__ ______ ___ ___  _ __ | |_ __ _  ___| |_ 
| '__/ _ \/ __|/ _ \/ _` | '__/ __| '_ \______/ __/ _ \| '_ \| __/ _` |/ __| __|
| | |  __/\__ \  __/ (_| | | | (__| | | |    | (_| (_) | | | | || (_| | (__| |_ 
|_|  \___||___/\___|\__,_|_|  \___|_| |_|     \___\___/|_| |_|\__\__,_|\___|\__|
                                                                                
                                                                                 -->

                    <div class="research">
                        <div class="input-box">
                            <button class="input-button" type="button" id="button-addon1"><i class="fa-solid fa-magnifying-glass"></i></button>
                            <input v-model="searchContact" type="text" class="input-bar" placeholder="Cerca o inizia una nuova chat" aria-label="Example text with button addon" aria-describedby="button-addon1" @keyup.enter="research()">
                        </div>
                    </div>

<!--            _                                          _                          _             _   
               | |                                        | |                        | |           | |  
  ___ _ __   __| |______ _ __ ___  ___  ___  __ _ _ __ ___| |__ ______ ___ ___  _ __ | |_ __ _  ___| |_ 
 / _ \ '_ \ / _` |______| '__/ _ \/ __|/ _ \/ _` | '__/ __| '_ \______/ __/ _ \| '_ \| __/ _` |/ __| __|
|  __/ | | | (_| |      | | |  __/\__ \  __/ (_| | | | (__| | | |    | (_| (_) | | | | || (_| | (__| |_ 
 \___|_| |_|\__,_|      |_|  \___||___/\___|\__,_|_|  \___|_| |_|     \___\___/|_| |_|\__\__,_|\___|\__|
                                                                                                        
                                                                                                         -->

<!--_ _     _                         _             _   
| (_)   | |                       | |           | |  
| |_ ___| |_ ______ ___ ___  _ __ | |_ __ _  ___| |_ 
| | / __| __|______/ __/ _ \| '_ \| __/ _` |/ __| __|
| | \__ \ |_      | (_| (_) | | | | || (_| | (__| |_ 
|_|_|___/\__|      \___\___/|_| |_|\__\__,_|\___|\__|
                                                     
                                                      -->

                    <div class="list-contact">
                        <ul>
                            <li v-for="(contact, index) in research" class="list-items" :class="contact == activeContact ? 'active' : ''" @click="changeActiveContact(index)">
                                <div class="contact-friend">
                                    <div class="box-img">
                                        <img :src="contact.avatar" alt="#">
                                    </div>
                                    <div class="name ps-3 d-flex flex-column ">
                                        <strong>{{contact.name}}</strong>
                                        <span>{{contact.messages[contact.messages.length -1].message}}</span>
                                    </div>
                                </div>
                                <div class="access">
                                    <span>{{contact.messages[contact.messages.length -1].date}}</span>
                                </div>
                            </li>
                        </ul>
                    </div>

<!--            _        _ _     _                         _             _   
               | |      | (_)   | |                       | |           | |  
  ___ _ __   __| |______| |_ ___| |_ ______ ___ ___  _ __ | |_ __ _  ___| |_ 
 / _ \ '_ \ / _` |______| | / __| __|______/ __/ _ \| '_ \| __/ _` |/ __| __|
|  __/ | | | (_| |      | | \__ \ |_      | (_| (_) | | | | || (_| | (__| |_ 
 \___|_| |_|\__,_|      |_|_|___/\__|      \___\___/|_| |_|\__\__,_|\___|\__|
                                                                             
                                                                              -->

                </div>

<!--  _           _          _               
     | |         | |        | |              
  ___| |__   __ _| |_ ______| |__   _____  __
 / __| '_ \ / _` | __|______| '_ \ / _ \ \/ /
| (__| | | | (_| | |_       | |_) | (_) >  < 
 \___|_| |_|\__,_|\__|      |_.__/ \___/_/\_\
                                             
                                              -->

                <div class="chat">

                    <div class="profile list-items">
                        <div class="contact-friend">
                            <div class="box-img">
                                <img :src="activeContact.avatar" alt="#">
                            </div>
                            <div class="name ps-3 d-flex flex-column ">
                                <strong>{{activeContact.name}}</strong>
                                <span>Ultimo accesso oggi alle 12:00</span>
                            </div>
                        </div>
                        <div class="icon">
                            <i class="fa-solid fa-magnifying-glass"></i>
                            <i class="fa-solid fa-paperclip"></i>
                            <i class="fa-solid fa-ellipsis-vertical"></i>
                        </div>
                    </div>
                    <div class="chat-message" ref="myScrollTarget">
                        <div v-for="currentMessage in activeContact.messages" 
                        :class="currentMessage.status">
                            <div class="chat-text" :class="statusMessage(currentMessage.status)">
                                <div>
                                    <p>{{currentMessage.message}}</p>
                                </div>
                                <div class="date">
                                    <p>{{currentMessage.date}}</p>
                                </div>
                                <div class="chevron">
                                    <i class="fa-solid fa-chevron-down personal" data-bs-toggle="dropdown" aria-expanded="false"></i>
                                    <ul class="dropdown-menu">
                                        <li><a class="dropdown-item" href="#" @click="deleteMessage(currentMessage)">Cancella messaggio</a></li>
                                    </ul>
                                </div>
                            </div> 
                        </div>
                    </div>
                    <div class="input-text">
                        <div class="text-input">
                            <i class="fa-regular fa-face-smile"></i>
                            <div class="input-box">
                                <input v-model="newMessage" type="text" class="input-bar" placeholder="Inserisci un messaggio" aria-label="Example text with button addon" aria-describedby="button-addon1" @keyup.enter="addMessage()">
                            </div>
                            <i class="fa-solid fa-microphone"></i>
                        </div>
                    </div>

                </div>
<!--            _            _           _          _               
               | |          | |         | |        | |              
  ___ _ __   __| |______ ___| |__   __ _| |_ ______| |__   _____  __
 / _ \ '_ \ / _` |______/ __| '_ \ / _` | __|______| '_ \ / _ \ \/ /
|  __/ | | | (_| |     | (__| | | | (_| | |_       | |_) | (_) >  < 
 \___|_| |_|\__,_|      \___|_| |_|\__,_|\__|      |_.__/ \___/_/\_\
                                                                    
                                                                     -->

            </div>

        </div>
        
    
    </div>
    
    <!-- script -->
    <script type="text/javascript" src="js/script.js"></script>

</body>
</html>